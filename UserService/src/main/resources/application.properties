spring.application.name=coursera
server.port=8081
spring.jpa.hibernate.ddl-auto=update

#spring.datasource.url=jdbc:postgresql://your-host.aws.neon.tech/userService?user=your_user&password=your_password&sslmode=require

spring.datasource.url=jdbc:postgresql://localhost:5432/user_service?user=your_db_user&password=your_db_password&sslmode=prefer

spring.datasource.hikari.auto-commit=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.types.print.banner=false

course-service.api-key=https://your-course-service.example.com
#course-service.api-key=http://localhost:8081

cloud.aws.credentials.access-key=AKIAIOSFODNN7EXAMPLE
cloud.aws.credentials.secret-key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
cloud.aws.credentials.region=ap-south-1

user.pool.id=your_cognito_pool_id
app.client.id=your_cognito_client_id
spring.main.allow-bean-definition-overriding=true

aws.cognito.region=ap-south-1
aws.cognito.userPoolId=your_cognito_pool_id
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://cognito-idp.region.amazonaws.com/your_cognito_pool_id
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://cognito-idp.region.amazonaws.com/your_cognito_pool_id/.well-known/jwks.json

application.bucket.name=your-s3-bucket

# Logging Configuration
logging.level.com.example.kafka.coursera=INFO
logging.level.com.example.kafka.coursera.services.messaging=DEBUG
logging.level.com.example.kafka.coursera.service=DEBUG
logging.level.org.springframework.amqp=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx

# Enable debug logging for your school service
logging.level.com.example.kafka.coursera.services.SchoolService=DEBUG
logging.level.com.example.kafka.coursera.controllers.SchoolController=DEBUG

# You can also enable debug for the entire package if needed
# logging.level.com.example.kafka.coursera=DEBUG

# Enable debug for Spring web to see more request details
logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestPartMethodArgumentResolver=DEBUG

# Enable ANSI color output
spring.output.ansi.enabled=always

logging.level.org.springframework.data.redis=DEBUG
logging.level.io.lettuce.core=DEBUG
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.location=${java.io.tmpdir}

spring.redis.host=localhost
spring.redis.port=6379
spring.redis.password=your_redis_password

spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false

# RabbitMQ Configuration
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=your_rabbitmq_user
spring.rabbitmq.password=your_rabbitmq_password
spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.initial-interval=2s
spring.rabbitmq.listener.simple.retry.max-attempts=5
spring.rabbitmq.listener.simple.retry.multiplier=2
spring.rabbitmq.listener.simple.default-requeue-rejected=false
spring.rabbitmq.listener.simple.auto-startup=true
spring.rabbitmq.listener.simple.prefetch=1
spring.rabbitmq.listener.simple.acknowledge-mode=auto

# Enable debug logging for RabbitMQ
logging.level.org.springframework.amqp=DEBUG
logging.level.com.rabbitmq=DEBUG
logging.level.org.springframework.amqp.support.converter=DEBUG
logging.level.com.example.kafka.coursera.events.emitters=DEBUG
logging.level.com.example.kafka.coursera.events.consumers=DEBUG

spring.rabbitmq.queues.quiz-completion.name=quiz_completion_queue
spring.rabbitmq.queues.quiz-completion.durable=true
spring.rabbitmq.queues.quiz-completion.auto-delete=false

spring.rabbitmq.exchanges.quiz.name=quiz_events
spring.rabbitmq.exchanges.quiz.type=topic
spring.rabbitmq.exchanges.quiz.durable=true

spring.rabbitmq.bindings.quiz-completion.exchange=quiz_events
spring.rabbitmq.bindings.quiz-completion.queue=quiz_completion_queue
spring.rabbitmq.bindings.quiz-completion.routing-key=quiz.completion

kafka.topic.quiz-completion=quiz-completion
kafka.group-id=user-service-group

# Content negotiation
spring.mvc.contentnegotiation.favor-parameter=true
spring.mvc.contentnegotiation.media-types.json=application/json
spring.mvc.contentnegotiation.media-types.multipart=multipart/form-data

# DevTools Configuration
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.restart.poll-interval=2s
spring.devtools.restart.quiet-period=1s

# Actuator configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.rabbit.enabled=true